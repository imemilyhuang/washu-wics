"use strict";(self.webpackChunkwashu_wics=self.webpackChunkwashu_wics||[]).push([[231],{231:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var n=a(528),o=a(43),s=a(791),i=(a(694),a(579));const r=e=>{let{setFormData:t,formData:a,name:n}=e;console.log(a[n].toLocaleTimeString());const[s,r]=(0,o.useState)(a[n].toLocaleTimeString().split(":")[0]),[c,l]=(0,o.useState)(a[n].getMinutes()),[m,u]=(0,o.useState)(a[n].toLocaleTimeString().split(" ")[1]),d=(e,o,s)=>{t((t=>({...t,[n]:new Date("".concat(a.date," ").concat(e,":").concat(o," ").concat(s))})))},h=e=>{u(e.target.value),d(s,c,e.target.value)},p=e=>{if("Delete"===e.key||"Backspace"===e.key){if(""===e.target.value||e.target.name==="am"+n||e.target.name==="pm"+n){const t=e.target.name==="hour"+n?"":e.target.name==="min"+n?"hour"+n:e.target.name==="am"+n?"min"+n:"am"+n;t&&document.eventForm[t].focus()}}else"Enter"===e.key&&(e.target.name!=="am"+n&&e.target.name!=="pm"+n||h(e))};return(0,i.jsxs)("div",{className:"time-picker",children:[(0,i.jsx)("input",{type:"number",maxLength:2,name:"hour"+n,placeholder:"HH",pattern:"\\d*",value:s,className:"bubble-left",onChange:e=>{const t=e.target.value;t>=0&&t<=12&&(r(t),d(t,c,m),t>=2&&document.eventForm["min"+n].focus())},onKeyDown:p}),(0,i.jsx)("input",{type:"number",maxLength:2,name:"min"+n,placeholder:"MM",pattern:"\\d*",value:c,className:"bubble-right",onChange:e=>{const t=e.target.value;t>=0&&t<=59&&(l(t),d(s,t,m),t>=9&&document.eventForm["am"+n].focus())},onKeyDown:p,style:{marginRight:"1rem"}}),(0,i.jsxs)("label",{className:"check-box left-box ".concat("AM"===m&&"checked"),children:[(0,i.jsx)("input",{type:"radio",onKeyDown:p,value:"AM",name:"am"+n,checked:"AM"===m,onChange:h}),"AM"]}),(0,i.jsxs)("label",{className:"check-box right-box ".concat("PM"===m&&"checked"),children:[(0,i.jsx)("input",{type:"radio",onKeyDown:p,value:"PM",name:"pm"+n,checked:"PM"===m,onChange:h}),"PM"]})]})};var c=a(671);const l={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let m;const u=new Uint8Array(16);function d(){if(!m&&(m="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!m))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return m(u)}const h=[];for(let D=0;D<256;++D)h.push((D+256).toString(16).slice(1));function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return h[e[t+0]]+h[e[t+1]]+h[e[t+2]]+h[e[t+3]]+"-"+h[e[t+4]]+h[e[t+5]]+"-"+h[e[t+6]]+h[e[t+7]]+"-"+h[e[t+8]]+h[e[t+9]]+"-"+h[e[t+10]]+h[e[t+11]]+h[e[t+12]]+h[e[t+13]]+h[e[t+14]]+h[e[t+15]]}const g=function(e,t,a){if(l.randomUUID&&!t&&!e)return l.randomUUID();const n=(e=e||{}).random||(e.rng||d)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){a=a||0;for(let e=0;e<16;++e)t[a+e]=n[e];return t}return p(n)};var x=a(85);const j=()=>{const[e,t]=(0,o.useState)({title:"",subtitle:"",host:"WiCS",description:"",location:"",imagePath:"",startTime:new Date,endTime:new Date,date:(new Date).toISOString().split("T")[0]}),[a,n]=(0,o.useState)(null),l=e=>{const{name:a,value:n}=e.target;t((e=>({...e,[a]:n})))};return(0,i.jsxs)("form",{name:"eventForm",children:[(0,i.jsx)("h4",{children:"Create a New Event"}),(0,i.jsx)("input",{type:"text",name:"title",placeholder:"Title",value:e.title,onChange:l,className:"input"}),(0,i.jsx)("input",{type:"text",name:"subtitle",placeholder:"Subtitle",value:e.subtitle,onChange:l,className:"input"}),(0,i.jsx)("input",{type:"text",name:"description",placeholder:"Description",value:e.description,onChange:l,className:"input"}),(0,i.jsx)("input",{type:"text",name:"location",placeholder:"Location",value:e.location,onChange:l,className:"input"}),(0,i.jsx)("input",{type:"text",name:"host",placeholder:"Host",value:e.host,onChange:l,className:"input"}),(0,i.jsx)("input",{type:"file",name:"image",onChange:e=>{n(e.target.files[0]),t((t=>({...t,imagePath:g()+e.target.files[0].name})))},className:"input"}),(0,i.jsx)("input",{type:"date",name:"date",placeholder:"Date",value:e.date,onChange:l,className:"input margin-bottom-42"}),(0,i.jsx)("p",{className:"margin-bottom-1",children:"Start Time"}),(0,i.jsx)("div",{className:"margin-bottom-21",children:(0,i.jsx)(r,{formData:e,setFormData:t,name:"startTime"})}),(0,i.jsx)("p",{className:"margin-bottom-1",children:"End Time"}),(0,i.jsx)("div",{className:"margin-bottom-21",children:(0,i.jsx)(r,{formData:e,setFormData:t,name:"endTime"})}),(0,i.jsx)("button",{type:"button",onClick:async t=>{t.preventDefault(),console.log(e),isNaN(e.startTime.getTime())&&console.log("invalid start time");const n=(0,c.KR)(s.IG,"events/".concat(e.imagePath));(0,c.D)(n,a).then((async t=>{const a=await(0,x.gS)((0,x.rJ)(s.db,"events"),{title:e.title,subtitle:e.subtitle,description:e.description,endTime:x.Dc.fromDate(e.endTime),startTime:x.Dc.fromDate(e.startTime),host:e.host,imagePath:e.imagePath,location:e.location});console.log(a)})).catch((e=>console.log(e)))},className:"purple-gradient-button",style:{width:"12rem"},children:(0,i.jsx)("h4",{children:"Create"})})]})},v=()=>(0,i.jsx)("div",{children:(0,i.jsx)(j,{})}),b=e=>{let{data:t}=e;return(0,i.jsx)("div",{children:"Shows edit buttons next to name, position, (something to move order around), picture (upload and delete)"})},y=()=>(0,i.jsxs)("div",{children:["Rows of ",(0,i.jsx)(b,{})]});a(292);const f=()=>{o.useEffect((()=>{window.scrollTo(0,0)}),[]);return(0,i.jsxs)("div",{className:"comfy-padding-642",children:[(0,i.jsx)("h1",{className:"marginb",children:"Admin"}),(0,i.jsx)("h3",{children:"Manage Events"}),(0,i.jsx)(v,{}),(0,i.jsx)("div",{className:"margin-bottom-2"}),(0,i.jsx)("h3",{children:"Manage Team"}),(0,i.jsx)(y,{}),(0,i.jsx)("div",{className:"margin-bottom-2"}),(0,i.jsx)("button",{className:"purple-gradient-button",style:{width:"12rem"},onClick:()=>{(0,n.CI)(s.j2)},children:(0,i.jsx)("h4",{children:"Log Out"})})]})}},694:()=>{},292:()=>{}}]);
//# sourceMappingURL=231.ccc6adaf.chunk.js.map